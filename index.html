<!DOCTYPE html>
<html>
   <head>
      <title>ХабрКонвертер</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <link rel="stylesheet" href="habrconverter.css">
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <script type="text/javascript" src="habrconverter.js"></script>
      <script src="https://rawcdn.githack.com/zenorocha/clipboard.js/v2.0.4/dist/clipboard.min.js"></script>
   </head>
   <body>
      <div class="container">
         <h1>Хабр Конвертер</h1>
            <p>
               Конвертер преобразует текст, созданный в Google Docs в размеченный текст, пригодный для публикации статьи на хабре.
            </p>
            <p>
               Поддерживаются жирный/италик/перечекнутый/подчеркнутый/sup/sub стили, ссылки, заголовки, списки, таблицы. Чтобы поддержать
               вставку исходного кода, весь текст с шрифтом Courier New обрамляется тегом source (атрибут lang, правда, придется
               вставлять вручную).
            </p>
            <p>
               При вставке из Google Docs картинки вставляются с ссылками на хранилище Google Docs — просматриваться будут, но стоит их перезалить.
            </p>
            <p>
               <span class="badge badge-warning">Внимание!</span> К сожалению, конвертация может нарушить форматирование (например, вставить лишние переводы строк).
               Проверьте статью внимательно перед тем как ее публиковать!
            </p>
         </div>

         <div class="container">
            <div class="buttons">
               <button class="btn btn-success" onclick="convertInput()">Конвертировать</button>
               <button class="btn btn-warning" onclick="clearInput()">Очистить</button>
            </div>
         </div>
         
         <div class="container">
            <div class="block-description">Скопируйте сюда текст для конвертации</div>
            <div class="uneditable-input" id="rich-input" contenteditable="true"></div>
         </div>
         <div class="container">
            <div class="buttons">
                <button class="btn btn-primary btn-copy" data-clipboard-target="#habr-output">Копировать</button>
                <button class="btn btn-warning" onclick="clearOutput()">Очистить</button>
            </div>
        </div>
         <div class="container">
            <div class="block-description">При клике автоматически выделится весь результат</div>
            <textarea id="habr-output" readonly onclick="this.focus(); this.select();"></textarea>
         </div>
      </div>
      <script type="text/javascript">
         new ClipboardJS('.btn-copy');
         
         function clearInput() {
             document.getElementById('rich-input').innerHTML = '';
         }
         
         function convertInput() {
             document.getElementById('habr-output').value = habrconverter.convert(document.getElementById('rich-input'));
         }
         
         function clearOutput() {
             document.getElementById('habr-output').value = '';
         }
      </script>
   </body>
</html>
